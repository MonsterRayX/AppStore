{"ast":null,"code":"import _slicedToArray from\"/Users/bingrui/Desktop/Work/LaiOffer/AppStore/appstore/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Layout,Dropdown,Menu,Button}from\"antd\";import{UserOutlined}from\"@ant-design/icons\";import React,{useEffect,useState}from\"react\";import LoginForm from\"./components/LoginForm\";//import HomePage from \"./components/HomePage\";\nimport{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=Layout.Header,Content=Layout.Content;var App=function App(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),authed=_useState2[0],setAuthed=_useState2[1];useEffect(function(){var authToken=localStorage.getItem(\"authToken\");setAuthed(authToken!==null);},[]);var handleLoginSuccess=function handleLoginSuccess(){setAuthed(true);};var handleLogOut=function handleLogOut(){localStorage.removeItem(\"authToken\");setAuthed(false);};var renderContent=function renderContent(){//return <></>;\nif(authed===undefined){return/*#__PURE__*/_jsx(_Fragment,{});}if(!authed){return/*#__PURE__*/_jsx(LoginForm,{onLoginSuccess:handleLoginSuccess});}return/*#__PURE__*/_jsx(HomePage,{});};var userMenu=/*#__PURE__*/_jsx(Menu,{children:/*#__PURE__*/_jsx(Menu.Item,{onClick:handleLogOut,children:\"Log Out\"},\"logout\")});return/*#__PURE__*/_jsxs(Layout,{style:{height:\"100vh\"},children:[/*#__PURE__*/_jsxs(Header,{style:{display:\"flex\",justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:16,fontWeight:600,color:\"white\"},children:\"App Store\"}),authed&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Dropdown,{trigger:\"click\",overlay:userMenu,children:/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(UserOutlined,{}),shape:\"circle\"})})})]}),/*#__PURE__*/_jsx(Content,{style:{height:\"calc(100% - 64px)\",padding:20,overflow:\"auto\"},children:renderContent()})]});};export default App;","map":{"version":3,"names":["Layout","Dropdown","Menu","Button","UserOutlined","React","useEffect","useState","LoginForm","Fragment","_Fragment","jsx","_jsx","jsxs","_jsxs","Header","Content","App","_useState","_useState2","_slicedToArray","authed","setAuthed","authToken","localStorage","getItem","handleLoginSuccess","handleLogOut","removeItem","renderContent","undefined","onLoginSuccess","HomePage","userMenu","children","Item","onClick","style","height","display","justifyContent","fontSize","fontWeight","color","trigger","overlay","icon","shape","padding","overflow"],"sources":["/Users/bingrui/Desktop/Work/LaiOffer/AppStore/appstore/src/App.js"],"sourcesContent":["import { Layout, Dropdown, Menu, Button } from \"antd\";\nimport { UserOutlined } from \"@ant-design/icons\";\nimport React, { useEffect, useState } from \"react\";\nimport LoginForm from \"./components/LoginForm\";\n//import HomePage from \"./components/HomePage\";\n\nconst { Header, Content } = Layout;\n\nconst App = () => {\n  const [authed, setAuthed] = useState();\n\n  useEffect(() => {\n    const authToken = localStorage.getItem(\"authToken\");\n    setAuthed(authToken !== null);\n  }, []);\n\n  const handleLoginSuccess = () => {\n    setAuthed(true);\n  };\n\n  const handleLogOut = () => {\n    localStorage.removeItem(\"authToken\");\n    setAuthed(false);\n  };\n\n  const renderContent = () => {\n    //return <></>;\n    if (authed === undefined) {\n      return <></>;\n    }\n    if (!authed) {\n      return <LoginForm onLoginSuccess={handleLoginSuccess} />;\n    }\n\n    return <HomePage />;\n  };\n\n  const userMenu = (\n    <Menu>\n      <Menu.Item key=\"logout\" onClick={handleLogOut}>\n        Log Out\n      </Menu.Item>\n    </Menu>\n  );\n\n  return (\n    <Layout style={{ height: \"100vh\" }}>\n      <Header style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n        <div style={{ fontSize: 16, fontWeight: 600, color: \"white\" }}>\n          App Store\n        </div>\n        {authed && (\n          <div>\n            <Dropdown trigger=\"click\" overlay={userMenu}>\n              <Button icon={<UserOutlined />} shape=\"circle\" />\n            </Dropdown>\n          </div>\n        )}\n      </Header>\n      <Content\n        style={{ height: \"calc(100% - 64px)\", padding: 20, overflow: \"auto\" }}\n      >\n        {renderContent()}\n      </Content>\n    </Layout>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}